{% extends 'base.html' %}
{% block title %}Admin Buses{% endblock %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h3 class="fw-bold text-dark">ðŸšŒ Manage Buses</h3>
  <a class="btn btn-primary shadow-sm" href="/admin/buses/new">
    <i class="bi bi-plus-lg"></i> New Bus
  </a>
</div>

<div class="card shadow-sm border-0">
  <div class="card-body p-0">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-dark">
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Time</th>
          <th scope="col">Name</th>
          <th scope="col">Capacity</th>
          <th scope="col">Taken</th>
          <th scope="col" class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for b in buses %}
        <tr>
          <td>{{ b.date }}</td>
          <td>{{ b.time.strftime('%H:%M') }}</td>
          <td>{{ b.name or 'â€”' }}</td>
          <td>{{ b.capacity }}</td>
          <td>
            <span class="badge bg-info text-dark">
              {{ b.seats_taken }} / {{ b.capacity }}
            </span>
          </td>
          <td class="text-center">
            <a class="btn btn-sm btn-outline-primary me-2" href="/admin/buses/{{b.id}}/edit">
              <i class="bi bi-pencil-square"></i> Edit
            </a>
            <a class="btn btn-sm btn-outline-secondary" href="/manifest/{{b.id}}">
              <i class="bi bi-list-ul"></i> Manifest
            </a>
          </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="6" class="text-center text-muted py-4">No buses available</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
